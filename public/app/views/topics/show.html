<div class="page-header">
  <h1>{{topic.name}}</h1>
</div>

<p>
  {{topic.description}}
</p>

<h2><ng-pluralize count="messages.length"
                 when="{'0': 'Ei viestejä.',
                     '1': 'Yksi viesti.',
                     'other': '{} viestiä.'}">
                   </ng-pluralize></h2>

<ul class="media-list">
  <li class="media">
    <div class="media-body" ng-repeat="viesti in messages">
      <h4 class="media-heading">
        <a href="#/messages/{{viesti.id}}">{{viesti.title}}</a>
      </h4>

      <p>
        {{viesti.content}}
      </p>

      <p class="text-muted">
        Käyttäjätunnus tähän, {{viesti.createdAt | date : 'short'}}
      </p>
    </div>
  </li>
</ul>

<div ng-if="userLoggedIn">
  <h2>Lisää oma viestisi</h2>

  <form>
    <div class="form-group">
      <label>Otsikko</label>
      <input type="text" ng-model="newMessage.title" class="form-control">
    </div>

    <div class="form-group">
      <label>Viesti</label>
      <textarea class="form-control" ng-model="newMessage.content"></textarea>
    </div>
    <button ng-click="addMessage(newMessage)" class="btn btn-success">Lisää viesti</button>
  </form>
</div>
